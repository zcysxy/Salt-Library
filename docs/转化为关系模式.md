# 转化为关系模式

[[Report]]

related:: [[E-R 模型设计]]

---

现在我们将数据库的 E-R 模型转化为具体的关系模式表

$$\begin{aligned}
&books (\underline{ISBN}, title, author, publisher, publish\_year, pulish\_month, price, u\_rating, u\_num, sold)\\
&miners (\underline{ID}, password, name, mail, phone, gender, age, reg\_date)\\
&requested\_books (\underline{ISBN}, title, author, publisher, publish\_year, pulish\_month, price)\\
&request (\underline{ISBN}, \underline{ID}, request\_time, request\_state)\\
&cart (\underline{ISBN}, \underline{ID}, cart\_num)\\
&marks (\underline{\smash{mark\_id}},ISBN, ID, mark\_time, operation)\\
&buy (\underline{\smash{mark\_id}}, bought\_num)\\
&tag (\underline{\smash{mark\_id}}, tag\_state)\\
&review (\underline{\smash{mark\_id}}, content)\\
&rate (\underline{\smash{mark\_id}}, rating)
\end{aligned}$$

其对应模式图如下

我们再用描述性的语言来叙述一下整个实验项目涉及的所有数据

* 书籍 *books*. 书籍信息包括书籍国际标准书号 ISBN, 名称, 作者, 出版社, 出版年份, 出版月份, 出售价格, 用户评分, 评分人数, 和销量.
* 书友 *miners*. 书友用户信息包括书友账号名, 加密后密码, 显示用户名, 邮箱地址, 手机号码, 性别, 年龄, 和注册日期.
* 请求书籍 *requested_books*. 请求书籍信息除用户评分, 评分人数, 销量外其他信息与已有书籍一致.
* 请求 *request*. 每条请求记录包括请求书籍 ISBN, 请求书友账号, 请求时间, 和请求状态.
* 购物车 *cart*. 每条购物车信息包括书籍 ISBN, 购物车所有者账号, 和购物车内该书籍数量.
* 标记 *marks*. 每条标记记录包括标记标识号, 标记书籍 ISBN, 标记发出书友账号, 标记时间, 和标记具体的操作类别.
* 购买 *buy*. 每条购买记录包括该记录标识号和购买数量.
* 标签 *tag*. 每个标签包括该标签标识号和标签状态.
* 评论 *review*. 每条评论包括该评论标识号和评论内容.
* 评分 *rate*. 每条评分包括该评分标识号和评分数值.

接下来我们来看一些具体的转化细节