# 实验总结

[[Report]]

> 总结本次实验, 你说学习到的内容, 以及碰到的问题等.

---

## 收获

通过本实验项目, 我收获了不可胜数的宝贵的知识与经验, 它们可以分为数据库相关的和应用开发相关的两个大类, 具体如下

### 数据库知识的加强与拓展

* 从掌握 E-R 模型的理论知识到实际设计一个合理的 E-R 模型之间有非常多难题和障碍. 通过此次实现项目中对各种细节的考虑和对各种方向的权衡, 我不仅加深了对 E-R 模型知识的理解, 并提高了对它们的灵活运用能力.
* 将 E-R 模型转化为具体的数据库模式看似简单, 实际上也有非常多的细节需要考虑, 包括各种限制的施加和属性的设计. 此次实验项目提高了我的将数据库设计的理论与实际结合的能力.
* 除了关于数据库设计的能力提高了, 我对 SQL 语言的运用能力也提高了, 还掌握了更多的高级 SQL 语法:
    * `ALTER TABLE`
    * `ON DELETE CASCADE`
    * `ON CONFLICT DO`
    * ...
* 完成了全部的数据库设计后, 具体的数据库实现仍有很多小挑战, 此次实验项目让我在这个方面积累了宝贵的经验.
* 我对 PSQL 的特性与机制有了更好的理解, 软件技能水平也提高了.
    * 我掌握了更多 PSQL 内部的语法, 如完整性约束的命名规则, 命令行使用指令等.
    * 我掌握了更多 PSQL 内部函数的运用方法, 如 `DATE()`, `MD5()`, `COALESCE` 等.

### 应用开发的经验

* 这是我第一次进行应用开发, 我收获了非常多的 Web 应用开发经验, 包括但不限于
    * 设置虚拟环境
    * 配置更合适的 debug 模式
    * 实现并利用应用的 session 管理
    * 实现应用层面的用户登录管理和角色管理
    * 连接应用与数据库
* 另外我还学习, 掌握了非常多关于 HTML, CSS, JavaScript 的知识.

## 问题

当然, 本应用离成为一个 "好应用" 还有一段距离, 除了需要继续[[拓展]]外, 还有很多问题值得进一步考虑.

### 应用的问题

* 本应用的用户管理系统虽然基于精心的设计, 考虑了大量因素, 但仍然有很多不合理的地方和可以进一步完善的地方. 为了实现更好的用户管理系统, 我们需要对用户管理理论, 数据库角色管理机制, 和应用用户管理机制有更深的理解.
* 本应用虽然将安全性视为重中之重, 但其安全性能仍有极大的提高空间.
    * 进一步完善用户密码的加密与储存, 如采用比 MD5 更好的加密方式, 采用更安全的储存方式等.
    * 目前数据库角色的密码以明文形式储存, 虽然合理但仍然不太合适, 可以在完善用户管理系统的基础上进一步处理这个问题.
    * 本应用的彩蛋功能 [[原始 SQL]] 有导致 SQL 注入的风险, 需要进一步考虑.

### 数据库的问题

* 本实验项目的数据库设计虽然考虑了大量细节, 做了极多权衡, 但仍有可改进的地方.
    * 下一步改进的方向可能需要基于实际的使用产生的数据和经验, 据此优化设计.
    * 本数据库所有的索引均为 B+ 树, 我们可以进一步根据数据的性质选择更优的索引类型.
* 本文档对数据库设计的分析并没有涉及**函数依赖**和**范式**理论, 这是因为由 E-R 模型转化为实际数据库的过程一般不会产生除码约束之外的约束. 下一步我们可以根据实际情况和拓展情况分析产生的函数依赖, 并根据范式理论优化数据库设计.
* 本实验项目并没有实现数据库迁移, 而是将应用数据库放在了 PSQL 的原始数据库丛中. 我们可以进一步了解**数据库丛**和**数据库迁移**的知识并进一步完善数据库的配置.
* 本实验项目在数据库内创建, 储存了大量函数, 储存过程, 和触发器, 这有很多优点但也有一些缺点, 比如利用 SQL 语言开发更麻烦, PSQL 很难 debug, 旧触发器和函数难覆盖等.

## 开发的问题

* 本应用的开发严重依赖于 Flask "开箱即用" 的特性. 想要进一步提高应用质量我们需要学习更多 Web 应用的理论知识.
* 目前应用只是使用 Waitress 这一 WSGI server 实现了应用简单的产品性部署 (production deployment), 我们需要进一步实现对应用的部署.

我认为以上所有问题都是开放性问题 (open problems), 它们的存在使得该应用有变得更好的可能性, 也为我们进一步开发和拓展本应用提供了方向.
